<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Team Standings</title>
	<link rel="stylesheet" type="text/css" href="/styles.css">
	<style>
	  table {
	    width: 85%;
	    border-collapse: collapse;
	    border-spacing: 0;
	    border: 1px solid #ddd;
	    margin: 20px auto;
	  }

	  th {
	    background-color: #000000;
	    color: white;
	    border: 1px solid #ddd;
	    padding: 5px;
	    text-align: left;
	    font-size: 14px;
	  }

	  td {
	    border: 1px solid #ddd;
	    padding: 5px;
	    font-size: 14px;
	  }
	</style>	
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
	  <div class="collapse navbar-collapse" id="navbarNav">
	    <ul class="navbar-nav">
	      <li class="nav-item">
	        <a class="nav-link" href="/home">Home</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="/driver/all">Drivers</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="/team/all">Teams</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="/standings/all">Standings</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="/driver/create">Create Driver</a>
	      </li>
	    </ul>
	  </div>
	</nav>
	
	
	<h1>Team Standings</h1>
	<table>
		<thead>
		  <tr>
		    <th>Position</th>
		    <th>Team</th>
			<th th:each="race, iterStat : ${#numbers.sequence(1, numberOfRaces)}"
			 <a th:href="@{/standings/team/update/{id}(id=${iterStat.index + 1})}" class="table-link" th:text="${'Race ' + race}"></a>
		    </th>
		    <th>Total Points</th>
		  </tr>
		  </thead>
		  <tbody>
		            <tr th:each="teamStanding, index : ${teams}">
		              <td th:text="${index.index + 1}"></td>
		              <td th:text="${teamStanding.team.teamName}"></td>
		              <td th:each="race, iterStat : ${#numbers.sequence(1, numberOfRaces)}">
		                <span th:each="driver : ${teamStanding.team.drivers}">
		                  <span th:each="standing : ${driver.driverStandings}"
		                        th:if="${standing.raceNumber == iterStat.index}"
		                        th:text="${standing.pointsPerRace}"></span>
		                </span>
		    </td>
		    <td th:text="${teamStanding.points}"></td>
		  </tr>
	</table>
	
	
</body>